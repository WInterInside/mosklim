const body=document.body,navToggle=document.querySelector('[data-element~="navToggle"]'),navMore=document.querySelector(".header__nav-more"),orderBtn=document.querySelector('[data-element="orderBtn"]'),modal=document.querySelector('[data-element="orderForm"]'),closeBtn=document.querySelector('[data-element="popupClose"]'),overlay=modal.querySelector(".popup__overlay"),swipeBtn=document.querySelector('[data-element="popupSwipe"]'),toggleNav=()=>{body.classList.contains("is-nav-open")?body.classList.remove("is-nav-open"):body.classList.add("is-nav-open")},handleScroll=()=>{window.scrollY>0?body.classList.add("is-scrolled"):body.classList.remove("is-scrolled")},closeModal=()=>{modal.classList.remove("is-open"),body.classList.remove("is-popup-open")},openModal=()=>{modal.classList.add("is-open"),body.classList.add("is-popup-open")};if(navToggle.addEventListener("click",toggleNav),navMore.addEventListener("click",toggleNav),window.addEventListener("scroll",handleScroll),document.addEventListener("click",e=>{navToggle.contains(e.target)||navMore.contains(e.target)||e.target.closest(".header__nav-more")||body.classList.remove("is-nav-open")}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();let t=document.querySelector(this.getAttribute("href"));const a=document.querySelector('[data-element="header"]');if(t){let e=a.offsetHeight+30,o=t.getBoundingClientRect().top+window.scrollY-e;window.scrollTo({top:o,behavior:"smooth"})}}))}),orderBtn){orderBtn.addEventListener("click",()=>{modal.classList.add("is-open"),body.classList.add("is-popup-open")}),closeBtn.addEventListener("click",()=>{closeModal()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&modal.classList.contains("is-open")&&closeModal()}),overlay.addEventListener("click",()=>{closeModal()});let e=0,t=0;function handleSwipe(){t<e&&closeModal()}swipeBtn.addEventListener("touchstart",t=>{e=t.changedTouches[0].screenX}),swipeBtn.addEventListener("touchend",e=>{t=e.changedTouches[0].screenX,handleSwipe()})}class Tabs{setTabs=(e,t)=>{this.clearTabs(e),e.querySelectorAll('[data-tab="'+t+'"]').forEach(e=>{e.classList.add("is-active")})};clearTabs=e=>{let t=e.querySelectorAll('[data-elements ~= "tabsBtn"]'),a=e.querySelectorAll('[data-elements ~= "tabsItem"]');t.forEach(e=>{e.classList.remove("is-active")}),a.forEach(e=>{e.classList.remove("is-active")})}}document.addEventListener("click",e=>{let t=e.target.closest('[data-elements~="tabsBtn"]');if(t){let e=t.dataset.tab;t.closest('[data-elements~="tabs"]').querySelectorAll("[data-tab]").forEach(t=>{t.classList.toggle("is-active",e===t.dataset.tab)})}}),[].forEach.call(document.querySelectorAll(".form__input--tel"),(function(e){var t;function a(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var a="+7 (___) ___ __ __",o=0,s=a.replace(/\D/g,""),l=this.value.replace(/\D/g,""),n=a.replace(/[_\d]/g,(function(e){return o<l.length?l.charAt(o++)||s.charAt(o):e}));-1!=(o=n.indexOf("_"))&&(o<5&&(o=3),n=n.slice(0,o));var c=a.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(c=new RegExp("^"+c+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=n),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",a,!1),e.addEventListener("focus",a,!1),e.addEventListener("blur",a,!1),e.addEventListener("keydown",a,!1)}));
//# sourceMappingURL=../sourcemaps/main.min.js.map
